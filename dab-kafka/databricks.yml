bundle:
  name: dab-kafka-bundle

artifacts:
  dab_kafka_lib:
    type: whl
    build: poetry build

include:
  - resources/nyc_taxi_job.yml

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://adb-2885690652894387.7.azuredatabricks.net
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}

  prod:
    mode: production
    workspace:
      host: https://adb-2885690652894387.7.azuredatabricks.net
      root_path: /Workspace/Users/vikas.patel@equalexperts.com/.bundle/${bundle.name}/${bundle.target}
    permissions:
      - user_name: vikas.patel@equalexperts.com
        level: CAN_MANAGE